%% \Qcircuit @C=0.5em @R=0.2em @!R { \\
%%                              &            &     &          &  & &                           &          &                                &          &                                &          &                             &          & \push{x_a}            &          &     & \\
%%           \lstick{\ket{x_a}} & \ctrl{3}   & \qw &          &  & & \qw                       & \ctrl{4} & \qw                            & \qw      & \qw                            & \ctrl{4} & \qw                         & \qw      & \gate{\mathrm{T}}     & \ctrl{2} & \qw & \\
%%                              &            &     &          &  & &                           &          &                                &          & \push{x_b}                     &          &                             &          & \push{x_a \oplus x_b} &          &     & \\
%%           \lstick{\ket{x_b}} & \ctrl{2}   & \qw & \push{=} &  & & \qw                       & \qw      & \qw                            & \ctrl{2} & \gate{\mathrm{T^{\dagger}}}    & \qw      & \qw                         & \ctrl{2} & \gate{\mathrm{T}}     & \targ    & \qw & \\
%%                              &            &     &          &  & & \push{y}                  &          & \push{x_a \oplus y}            &          & \push{x_a \oplus x_b \oplus y} &          & \push{x_b \oplus y}         &          &                       &          &     & \\
%%           \lstick{\ket{y}}   & \ctrl{-1}  & \qw &          &  & & \gate{\mathrm{T}}         & \targ    & \gate{\mathrm{T^{\dagger}}}    & \targ    & \gate{\mathrm{T}}              & \targ    & \gate{\mathrm{T^{\dagger}}} & \targ    & \qw                   & \qw      & \qw & \\
%% }

\Qcircuit @C=0.5em @R=0.2em @!R {
                       &           & \push{x_a}          &           &          &          & \push{x_a \oplus y}    &           &          &           &                                &           &          &       \\
\lstick{\ket{x_a}}     & \qw       & \gate{T}            & \targ     & \qw      & \ctrl{2} & \gate{T^\dagger}       & \targ     & \ctrl{4} & \qw       & \qw                            & \qw       & \ctrl{2} & \qw \\
                       &           & \push{x_b \oplus y} &           &          &          & \push{x_a \oplus x_b } &           &          &           & \push{x_a \oplus x_b \oplus y} &           &          &       \\
\lstick{\ket{x_b}}     & \targ     & \gate{T^\dagger}    & \qw       & \ctrl{2} & \targ    & \gate{T^\dagger}       & \ctrl{-2} & \qw      & \targ     & \gate{T}                       & \targ     & \targ    & \qw \\
                       &           & \push{y}            &           &          &          & \push{x_b}             &           &          &           &                                &           &          &       \\
\lstick{\ket{y}}       & \ctrl{-2} & \gate{T}            & \ctrl{-4} & \targ    & \qw      & \gate{T}               & \qw       & \targ    & \ctrl{-2} & \qw                            & \ctrl{-2} & \qw      & \qw
}
